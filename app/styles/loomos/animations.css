/* loomOS Animations
 * All keyframe animations used throughout the OS
 * 
 * Performance Notes:
 * - Most animations use transform/opacity for GPU acceleration
 * - Box-shadow animations (pulse-glow, breathe) are CPU-intensive
 * - All animations respect prefers-reduced-motion
 */

/* ============================================
   ENTRANCE ANIMATIONS
   ============================================ */

/**
 * Fade In
 * Used for: Modals, popovers, overlays
 * Duration: 0.2s
 * Performance: Excellent (opacity only)
 */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/**
 * Slide Up
 * Used for: Bottom sheets, notifications
 * Duration: 0.5s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slide-up {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Slide Down
 * Used for: Dropdowns, top notifications
 * Duration: 0.5s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slide-down {
  from { 
    opacity: 0;
    transform: translateY(-20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Slide In Right
 * Used for: Side panels, drawers
 * Duration: 0.3s
 * Performance: Excellent (transform only)
 */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/**
 * Slide In From Top
 * Used for: Status bar, alerts
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slide-in-from-top {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Scale In
 * Used for: Buttons, cards, focus states
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes scale-in {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}

/**
 * Card Zoom In
 * Used for: App cards entering view
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes card-zoom-in {
  0% {
    opacity: 0;
    transform: scale(0.85) translateY(30px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/**
 * Slide In (Generic)
 * Used for: Various components
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * Dock Popover Enter
 * Used for: Dock app preview popovers
 * Duration: 0.2s
 * Performance: Excellent (transform + opacity)
 */
@keyframes dock-popover-enter {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/**
 * Dock App Card Enter
 * Used for: Dock app cards sliding in
 * Duration: 0.2s
 * Performance: Excellent (transform + opacity)
 */
@keyframes dock-app-card-enter {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ============================================
   EXIT ANIMATIONS
   ============================================ */

/**
 * Slide Out Left
 * Used for: Minimizing windows to dock
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slide-out-left {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(-150%, -50%) scale(0.8);
    opacity: 0;
  }
}

/**
 * Slide Out Left (Draggable)
 * Used for: Draggable cards minimizing
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes slide-out-left-draggable {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.3) translateY(calc(100vh - 100%));
  }
}

/**
 * Card Zoom Out
 * Used for: App cards exiting view
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 */
@keyframes card-zoom-out {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.85) translateY(30px);
  }
}

/* ============================================
   LOADING & CONTINUOUS ANIMATIONS
   ============================================ */

/**
 * Shimmer
 * Used for: Loading states, skeleton screens
 * Duration: 2s infinite
 * Performance: Good (background-position)
 */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/**
 * Shimmer Slide
 * Used for: Loading overlays
 * Duration: 1.5s infinite
 * Performance: Excellent (transform)
 */
@keyframes shimmer-slide {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/**
 * Skeleton Pulse
 * Used for: Loading skeleton screens
 * Duration: 2s infinite
 * Performance: Excellent (opacity only)
 */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/**
 * Spin
 * Used for: Loading spinners
 * Duration: 1s infinite
 * Performance: Excellent (transform)
 */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/**
 * Float
 * Used for: Floating elements, tooltips
 * Duration: 3s infinite
 * Performance: Excellent (transform)
 */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

/**
 * Ping Slow
 * Used for: Notification indicators
 * Duration: 2s infinite
 * Performance: Excellent (transform + opacity)
 */
@keyframes ping-slow {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  75%, 100% {
    transform: scale(1.3);
    opacity: 0;
  }
}

/* ============================================
   INTERACTIVE ANIMATIONS
   ============================================ */

/**
 * Bounce Subtle
 * Used for: Button clicks, micro-interactions
 * Duration: 0.4s
 * Performance: Excellent (transform)
 */
@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-2px);
  }
}

/**
 * Pulse Glow (OPTIMIZED)
 * Used for: Active states, focus indicators
 * Duration: 2s infinite
 * Performance: Excellent (replaced box-shadow with scale + opacity)
 * Optimized: Uses GPU-accelerated transform and opacity
 */
@keyframes pulse-glow {
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

/**
 * Pulse Glow Shadow (Alternative - for when shadow is needed)
 * Used for: Special cases where shadow effect is required
 * Duration: 2s infinite
 * Performance: Moderate (box-shadow is CPU-intensive)
 * Note: Use sparingly, prefer pulse-glow for better performance
 */
@keyframes pulse-glow-shadow {
  0%, 100% {
    filter: drop-shadow(0 0 8px rgba(241, 136, 37, 0.3));
  }
  50% {
    filter: drop-shadow(0 0 16px rgba(241, 136, 37, 0.6));
  }
}

/**
 * Breathe (OPTIMIZED)
 * Used for: Dock active indicators
 * Duration: 4s infinite
 * Performance: Excellent (replaced box-shadow with scale + opacity)
 * Optimized: Uses GPU-accelerated transform for smoother animation
 */
@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.02);
    opacity: 1;
  }
}

/**
 * Gentle Blink
 * Used for: Text cursor, caret
 * Duration: 1s infinite
 * Performance: Excellent (caret-color)
 */
@keyframes gentle-blink {
  0%, 49% {
    caret-color: hsl(var(--primary));
  }
  50%, 100% {
    caret-color: transparent;
  }
}

/* ============================================
   ENHANCED SPRING-BASED ANIMATIONS
   ============================================ */

/**
 * Spring Scale In
 * Used for: Modals, dialogs, important UI elements
 * Duration: 0.5s
 * Performance: Excellent (transform only)
 * Physics: Spring-like bounce for natural feel
 */
@keyframes spring-scale-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
  75% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
  }
}

/**
 * Elastic Slide Up
 * Used for: Bottom sheets, notifications with personality
 * Duration: 0.6s
 * Performance: Excellent (transform + opacity)
 * Physics: Elastic overshoot for playful feel
 */
@keyframes elastic-slide-up {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  60% {
    transform: translateY(-8%);
    opacity: 1;
  }
  80% {
    transform: translateY(4%);
  }
  100% {
    transform: translateY(0);
  }
}

/**
 * Smooth Slide In
 * Used for: Sidebar panels, drawer menus
 * Duration: 0.4s
 * Performance: Excellent (transform only)
 * Easing: Smooth deceleration curve
 */
@keyframes smooth-slide-in {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(0);
  }
}

/**
 * Fade In Scale
 * Used for: Cards, images, content blocks
 * Duration: 0.4s
 * Performance: Excellent (transform + opacity)
 * Effect: Subtle zoom + fade for elegant entrance
 */
@keyframes fade-in-scale {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/**
 * Slide Fade In
 * Used for: List items, staggered content
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 * Effect: Gentle upward motion with fade
 */
@keyframes slide-fade-in {
  0% {
    transform: translateY(12px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/**
 * Rotate Fade In
 * Used for: Icons, badges, status indicators
 * Duration: 0.3s
 * Performance: Excellent (transform + opacity)
 * Effect: Slight rotation for attention-grabbing entrance
 */
@keyframes rotate-fade-in {
  0% {
    transform: rotate(-10deg) scale(0.8);
    opacity: 0;
  }
  100% {
    transform: rotate(0deg) scale(1);
    opacity: 1;
  }
}

/**
 * Jello (Wobble)
 * Used for: Interactive feedback, attention-seeking
 * Duration: 0.5s
 * Performance: Excellent (transform only)
 * Effect: Playful jello-like wobble
 */
@keyframes jello {
  0%, 100% {
    transform: skewX(0deg) skewY(0deg);
  }
  30% {
    transform: skewX(-12.5deg) skewY(-12.5deg);
  }
  40% {
    transform: skewX(6.25deg) skewY(6.25deg);
  }
  50% {
    transform: skewX(-3.125deg) skewY(-3.125deg);
  }
  65% {
    transform: skewX(1.5625deg) skewY(1.5625deg);
  }
  75% {
    transform: skewX(-0.78125deg) skewY(-0.78125deg);
  }
}

/**
 * Pulse Scale
 * Used for: Notification badges, activity indicators
 * Duration: 1s infinite
 * Performance: Excellent (transform only)
 * Effect: Gentle pulsing scale for continuous animation
 */
@keyframes pulse-scale {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/**
 * Wiggle
 * Used for: Error states, invalid inputs
 * Duration: 0.4s
 * Performance: Excellent (transform only)
 * Effect: Horizontal shake for feedback
 */
@keyframes wiggle {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-4px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(4px);
  }
}

/* ============================================
   ANIMATION UTILITY CLASSES
   ============================================ */

/* Entrance Animations */
.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out;
}

.animate-slide-down {
  animation: slide-down 0.5s ease-out;
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out;
}

.animate-card-zoom-in {
  animation: card-zoom-in 0.3s ease-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

/* Exit Animations */
.animate-card-zoom-out {
  animation: card-zoom-out 0.3s ease-out;
}

/* Loading Animations */
.animate-shimmer {
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

.skeleton {
  animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* Continuous Animations */
.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-ping-slow {
  animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

/* Component-Specific Animations */
.loomos-minimize-left {
  animation: slide-out-left 0.3s ease-in-out forwards;
}

.loomos-minimize-left-draggable {
  animation: slide-out-left-draggable 0.3s ease-in-out forwards;
}

.loomos-dock-active-glow {
  animation: breathe 4s ease-in-out infinite;
}

/* Enhanced Animations - Spring Physics */
.animate-spring-scale-in {
  animation: spring-scale-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-elastic-slide-up {
  animation: elastic-slide-up 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-smooth-slide-in {
  animation: smooth-slide-in 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-fade-in-scale {
  animation: fade-in-scale 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-slide-fade-in {
  animation: slide-fade-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-rotate-fade-in {
  animation: rotate-fade-in 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-jello {
  animation: jello 0.5s ease-in-out;
}

.animate-pulse-scale {
  animation: pulse-scale 1s ease-in-out infinite;
}

.animate-wiggle {
  animation: wiggle 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

/* Performance Optimizations - Will-Change Hints */
.will-animate {
  will-change: transform, opacity;
}

.will-animate-transform {
  will-change: transform;
}

.will-animate-opacity {
  will-change: opacity;
}

/* Remove will-change after animation completes (add via JS) */
.animation-complete {
  will-change: auto;
}

/* ============================================
 ACCESSIBILITY
 ============================================ */

/**
 * Respect user motion preferences
 * Disables animations for users who prefer reduced motion
 * This is critical for accessibility and user comfort
 */
@media (prefers-reduced-motion: reduce) {
*,
*::before,
*::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}
}
