# =============================================================================
# loomOS Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains secrets!

# =============================================================================
# REQUIRED: Core Application Settings
# =============================================================================

# Database Connection
# PostgreSQL connection string for Prisma ORM
# Format: postgresql://username:password@host:port/database?schema=public
# Example for local development: postgresql://postgres:password@localhost:5432/loomos
# Example for hosted (e.g., Supabase): postgresql://user:pass@db.example.supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:password@localhost:5432/loomos

# NextAuth Configuration
# URL where your application is hosted (used for OAuth callbacks)
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXTAUTH_URL=http://localhost:3000

# NextAuth Secret (REQUIRED - 32+ characters for security)
# Generate a secure secret using one of these methods:
#   1. Run: openssl rand -base64 32
#   2. Run: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#   3. Visit: https://generate-secret.vercel.app/32
# Example (DO NOT USE THIS - generate your own!): 
NEXTAUTH_SECRET=your-super-secure-secret-min-32-chars-long-replace-this

# =============================================================================
# SERVICE LAYER CONFIGURATION (@loomos/core)
# =============================================================================
# Choose which service providers to use. Change these to switch providers
# without modifying code (e.g., switch from SendGrid to Resend)

# Email Provider - Options: sendgrid, resend
EMAIL_PROVIDER=sendgrid

# Storage Provider - Options: s3, minio
STORAGE_PROVIDER=s3

# Payment Provider - Options: stripe
PAYMENT_PROVIDER=stripe

# AI Provider - Options: anthropic, openai
AI_PROVIDER=anthropic

# =============================================================================
# PROVIDER-SPECIFIC CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# SendGrid Email Service (when EMAIL_PROVIDER=sendgrid)
# -----------------------------------------------------------------------------
# Get your API key at https://app.sendgrid.com/settings/api_keys
# Example: SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_API_KEY=
# The email address that emails will be sent from (must be verified in SendGrid)
# Example: noreply@yourdomain.com
SENDGRID_FROM_EMAIL=
# Optional: The name that appears as the sender
# Example: loomOS Team
SENDGRID_FROM_NAME=

# -----------------------------------------------------------------------------
# Resend Email Service (when EMAIL_PROVIDER=resend)
# -----------------------------------------------------------------------------
# Get your API key at https://resend.com/api-keys
# Example: re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_API_KEY=

# -----------------------------------------------------------------------------
# AWS S3 Storage (when STORAGE_PROVIDER=s3)
# -----------------------------------------------------------------------------
# AWS Profile (for local development with AWS CLI)
# Example: default
AWS_PROFILE=
# AWS Region where your S3 bucket is located
# Example: us-east-1, us-west-2, eu-west-1
AWS_REGION=us-east-1
# Your S3 bucket name
# Example: loomos-uploads
AWS_BUCKET_NAME=
# Optional: Prefix for all file paths in the bucket
# Example: uploads/
AWS_FOLDER_PREFIX=
# AWS Access Key ID (get from AWS IAM)
# Example: AKIAIOSFODNN7EXAMPLE
AWS_ACCESS_KEY_ID=
# AWS Secret Access Key (get from AWS IAM)
# Example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_SECRET_ACCESS_KEY=

# -----------------------------------------------------------------------------
# MinIO Storage (when STORAGE_PROVIDER=minio)
# -----------------------------------------------------------------------------
# MinIO server endpoint
# Example: localhost, minio.yourdomain.com
MINIO_ENDPOINT=
# MinIO server port
# Example: 9000
MINIO_PORT=
# MinIO access key
MINIO_ACCESS_KEY=
# MinIO secret key
MINIO_SECRET_KEY=
# MinIO bucket name
MINIO_BUCKET=
# Use SSL for MinIO connection (true/false)
MINIO_USE_SSL=false

# -----------------------------------------------------------------------------
# Stripe Payment Service (when PAYMENT_PROVIDER=stripe)
# -----------------------------------------------------------------------------
# Get your keys at https://dashboard.stripe.com/apikeys
# Secret key (starts with sk_test_ for test mode, sk_live_ for production)
# Example: sk_test_YOUR_STRIPE_SECRET_KEY_HERE
STRIPE_SECRET_KEY=
# Publishable key (starts with pk_test_ for test mode, pk_live_ for production)
# Example: pk_test_YOUR_STRIPE_PUBLISHABLE_KEY_HERE
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
# Webhook secret for validating Stripe webhook events
# Get this when you set up a webhook endpoint in Stripe dashboard
# Example: whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Anthropic AI Service (when AI_PROVIDER=anthropic)
# -----------------------------------------------------------------------------
# Get your API key at https://console.anthropic.com/
# Example: sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# OpenAI Service (when AI_PROVIDER=openai)
# -----------------------------------------------------------------------------
# Get your API key at https://platform.openai.com/api-keys
# Example: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_KEY=

# =============================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# =============================================================================

# -----------------------------------------------------------------------------
# Abacus AI
# -----------------------------------------------------------------------------
# Get your API key from Abacus AI dashboard
ABACUSAI_API_KEY=

# -----------------------------------------------------------------------------
# Google OAuth & Services
# -----------------------------------------------------------------------------
# Create OAuth credentials at https://console.cloud.google.com/apis/credentials
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 Client ID (Web application)
# 4. Add authorized redirect URIs: http://localhost:3000/api/auth/callback/google
# Client ID (looks like: xxxxxx.apps.googleusercontent.com)
GOOGLE_CLIENT_ID=
# Client Secret (random string of characters)
GOOGLE_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Microsoft OAuth
# -----------------------------------------------------------------------------
# Create app registration at https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# 1. Register new application
# 2. Add redirect URI: http://localhost:3000/api/auth/callback/azure-ad
# 3. Create client secret under "Certificates & secrets"
# Application (client) ID
# Example: 12345678-1234-1234-1234-123456789012
MICROSOFT_CLIENT_ID=
# Client secret value (not the ID)
MICROSOFT_CLIENT_SECRET=
# Directory (tenant) ID (or use "common" for multi-tenant)
# Example: 12345678-1234-1234-1234-123456789012 or "common"
MICROSOFT_TENANT_ID=common

# -----------------------------------------------------------------------------
# Mapbox (for maps and location features)
# -----------------------------------------------------------------------------
# Get your token at https://account.mapbox.com/access-tokens/
# Example: pk.eyJ1IjoiZXhhbXBsZSIsImEiOiJjbHh4eHh4eHh4eHh4eHh4eHh4eHh4In0.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_MAPBOX_TOKEN=

# -----------------------------------------------------------------------------
# Google Gemini API (required for Brandy - Brand Strategist + Web Builder)
# -----------------------------------------------------------------------------
# Get your key at https://aistudio.google.com/apikey
# Example: AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_GEMINI_API_KEY=

# =============================================================================
# OPTIONAL: Advanced Configuration
# =============================================================================

# Node Environment (automatically set by Next.js, but can be overridden)
# Options: development, production, test
NODE_ENV=development

# Next.js Build Configuration (usually not needed)
# Custom output directory for Next.js build
NEXT_DIST_DIR=
# Output mode: standalone, export
NEXT_OUTPUT_MODE=
